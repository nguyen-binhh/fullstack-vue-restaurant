import{_ as v,u as g,q as h,l as b,g as w,r as y,o as i,c as u,a as o,F as S,i as k,k as x,m as p,v as m,e as _,b as V,w as I,t as P,p as T,f as O}from"./index-feffca74.js";import{u as j}from"./useData-a1bdd8e8.js";const C={setup(){const l=g(),{getMatchUser:a,matchUser:n}=j(),e=h(),r=b({email:"",pass:""}),t=w([]),c=async d=>{t.value=[],r.email?/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/.test(r.email)||t.value.push("Email must be valid !!  Please try again"):t.value.push("Entering a email is required !! Please try again"),r.pass||t.value.push("Password is required !!  Please try again"),!t.value.length===0?d.preventDefault():(d.preventDefault(),await a(r.email),n.value?n.value.user_password===r.pass?(n.value.user_password="",l.setUser(n.value),Swal.fire({position:"top-end",icon:"success",title:"Welcome to my Restaurant ",showConfirmButton:!1,timer:1500}),e.push("/")):t.value.push("Incorrect email or password!"):t.value.push("Incorrect email or password!!  Please try again"))};function s(){window.scrollTo(0,0)}return{scrollToTop:s,users:l,loginObj:r,matchUser:n,errors:t,handleSubmit:c}}},f=l=>(T("data-v-c9fb988b"),l=l(),O(),l),D={class:"login-container"},E={class:"login-form-container"},N=f(()=>o("h3",null,"LOGIN",-1)),U={key:0,class:"error-box"},B={class:"form-group"},L={class:"form-group"},q={class:"form-group"},z=f(()=>o("input",{type:"submit",value:"login now",class:"btn"},null,-1));function F(l,a,n,e,r,t){const c=y("router-link");return i(),u("div",D,[o("div",E,[o("form",{id:"loginForm",onSubmit:a[3]||(a[3]=(...s)=>e.handleSubmit&&e.handleSubmit(...s)),novalidate:"",autocomplete:"off"},[N,e.errors.length?(i(),u("div",U,[o("ul",null,[(i(!0),u(S,null,k(e.errors,s=>(i(),u("li",{key:s},P(s),1))),128))])])):x("",!0),o("div",B,[p(o("input",{type:"email",id:"uEmail",name:"uEmail",class:"form-control",placeholder:"enter your email","onUpdate:modelValue":a[0]||(a[0]=s=>e.loginObj.email=s)},null,512),[[m,e.loginObj.email]])]),o("div",L,[p(o("input",{type:"password",id:"uPass",name:"uPass",class:"form-control",placeholder:"enter your password","onUpdate:modelValue":a[1]||(a[1]=s=>e.loginObj.pass=s)},null,512),[[m,e.loginObj.pass]])]),o("div",q,[z,o("p",null,[_(" don't have an account? "),V(c,{onClick:a[2]||(a[2]=s=>e.scrollToTop()),to:"/register"},{default:I(()=>[_("create one ")]),_:1})])])],32)])])}const A=v(C,[["render",F],["__scopeId","data-v-c9fb988b"]]);export{A as default};
