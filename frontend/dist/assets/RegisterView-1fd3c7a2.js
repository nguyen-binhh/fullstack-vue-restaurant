import{_ as k,l as v,q as x,r as B,o as i,c as l,a as r,m,v as p,t as d,k as u,y as j,e as w,b as C,w as V,x as T,p as S,f as D}from"./index-feffca74.js";import{u as I}from"./useData-a1bdd8e8.js";const U={setup(){const{matchUser:c,getMatchUser:s}=I(),t=v({name:"",email:"",pass:"",confirm:"",phone:"",birth:"",gender:""}),e=v({nameErr:[],emailErr:[],passErr:[],confirmErr:[],phoneErr:[],birthErr:[],genderErr:[]}),E=x(),y=()=>{let o=new Date,h=("0"+o.getDate()).slice(-2),b=("0"+(o.getMonth()+1)).slice(-2);var _=o.getFullYear()-150+"-"+b+"-"+h,g=o.getFullYear()+"-"+b+"-"+h;document.getElementById("uBirth").setAttribute("min",_),document.getElementById("uBirth").setAttribute("max",g)};function f(){window.scrollTo(0,0)}const a=()=>{e.nameErr=[],e.emailErr=[],e.passErr=[],e.confirmErr=[],e.phoneErr=[],e.birthErr=[],e.genderErr=[]},P=()=>{for(var o in e)if(e[o].length!==0)return!1;return!0},O=()=>{if(a(),t.name?/^[A-Za-z]+$/.test(t.name.replace(/\s/g,""))||e.nameErr.push("A name can only contain letters !! Please try again"):e.nameErr.push("Entering a name is required !! Please try again"),t.email?/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/.test(t.email)||e.emailErr.push("Email must be valid !! Please try again"):e.emailErr.push("Entering a email is required !! !! Please try again"),t.pass?(/[!@#$%^&*]/.test(t.pass)||e.passErr.push("Password must contain at least 1 special character !! Please try again"),t.pass.length<8&&e.passErr.push("Password must be more than or equal 8 characters !! Please try again")):e.passErr.push("Password is required !! Please try again"),t.confirm?t.pass!==t.confirm&&e.confirmErr.push("Confirm password must be match with password !! Please try again"):e.confirmErr.push("Confirm password is required !! Please try again"),t.phone?(t.phone.startsWith("84")||e.phoneErr.push("Phone numbers must start with 84 !! Please try again"),t.phone.length!==11&&e.phoneErr.push("Phone numbers must have exactly 11 digits !! Please try again"),/[0-9]{11}/.test(t.phone)||e.phoneErr.push("Phone numbers can only contain numbers !! Please try again")):e.phoneErr.push("Entering phone number is required !! Please try again"),!t.birth)e.birthErr.push("Entering birthday is required !! Please try again");else{let o=document.getElementById("uBirth").getAttribute("min"),h=document.getElementById("uBirth").getAttribute("max"),b=new Date(o),_=new Date(h),g=new Date(t.birth);g==="Invalid Date"&&e.birthErr.push("Invalid date input !! Please try again"),(g.getTime()<b.getTime()||g.getTime()>_.getTime())&&e.birthErr.push("Available birthday range is from pass 150 years to now !! Please try again")}t.gender||e.genderErr.push("Please select a gender !! Please try again")};return{scrollToTop:f,registerObj:t,errorObj:e,availableTime:y,handleSubmit:async o=>{if(O(),!P())o.preventDefault();else if(o.preventDefault(),await s(t.email),c.value)e.emailErr.push("Account already exist");else{let h={user_name:t.name,user_email:t.email,user_phone:t.phone,user_password:t.pass,user_birth:t.birth,user_gender:t.gender};await T.post("http://localhost:3000/api/v1/users/",h),Swal.fire({position:"top-end",icon:"success",title:"Register Successfully !!",showConfirmButton:!1,timer:1500}),E.push("/login")}}}}},n=c=>(S("data-v-bbcf482e"),c=c(),D(),c),M={class:"register-container"},R={class:"register-form-container"},q=n(()=>r("h3",null,"Create your account",-1)),A={class:"form-group"},N=n(()=>r("label",{for:"uName"},"Enter your name: ",-1)),F={key:0,class:"error-mess"},z={class:"form-group"},Y=n(()=>r("label",{for:"uEmail"},"Enter your email: ",-1)),W={key:0,class:"error-mess"},Z={class:"form-group"},G=n(()=>r("label",{for:"uPass"},"Enter your password: ",-1)),H={key:0,class:"error-mess"},J={class:"form-group"},K=n(()=>r("label",{for:"uPassConfirm"},"Check your password again: ",-1)),L={key:0,class:"error-mess"},Q={class:"form-group"},X=n(()=>r("label",{for:"uPhone"},"Enter your phone number: ",-1)),$={key:0,class:"error-mess"},ee={class:"form-group"},re=n(()=>r("label",{for:"uBirth"},"Enter your birthday: ",-1)),te={key:0,class:"error-mess"},se={class:"form-group"},ae=n(()=>r("label",{for:""},"Select your gender: ",-1)),oe={class:"form-group"},ne=n(()=>r("span",null,"Male",-1)),ie=n(()=>r("span",null,"Female",-1)),le={key:0,class:"error-mess"},me={class:"form-group"},de=n(()=>r("input",{type:"submit",value:"join us",class:"btn"},null,-1));function ue(c,s,t,e,E,y){const f=B("router-link");return i(),l("div",M,[r("div",R,[r("form",{id:"registerForm",onSubmit:s[10]||(s[10]=(...a)=>e.handleSubmit&&e.handleSubmit(...a)),novalidate:"",autocomplete:"off"},[q,r("div",A,[N,m(r("input",{type:"text",name:"uName",placeholder:"your full name",id:"uName",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=a=>e.registerObj.name=a)},null,512),[[p,e.registerObj.name]]),e.errorObj.nameErr.length>0?(i(),l("p",F,d(e.errorObj.nameErr[0]),1)):u("",!0)]),r("div",z,[Y,m(r("input",{type:"email",name:"uEmail",placeholder:"example@gmail.com",id:"uEmail",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=a=>e.registerObj.email=a)},null,512),[[p,e.registerObj.email]]),e.errorObj.emailErr.length>0?(i(),l("p",W,d(e.errorObj.emailErr[0]),1)):u("",!0)]),r("div",Z,[G,m(r("input",{type:"password",name:"uPass",placeholder:"enter your password",id:"uPass",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=a=>e.registerObj.pass=a)},null,512),[[p,e.registerObj.pass]]),e.errorObj.passErr.length>0?(i(),l("p",H,d(e.errorObj.passErr[0]),1)):u("",!0)]),r("div",J,[K,m(r("input",{type:"password",name:"uPassConfirm",placeholder:"enter your password again",id:"uPassConfirm",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=a=>e.registerObj.confirm=a)},null,512),[[p,e.registerObj.confirm]]),e.errorObj.confirmErr.length>0?(i(),l("p",L,d(e.errorObj.confirmErr[0]),1)):u("",!0)]),r("div",Q,[X,m(r("input",{type:"tel",name:"uPhone",placeholder:"enter your phone number",id:"uPhone",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=a=>e.registerObj.phone=a)},null,512),[[p,e.registerObj.phone]]),e.errorObj.phoneErr.length>0?(i(),l("p",$,d(e.errorObj.phoneErr[0]),1)):u("",!0)]),r("div",ee,[re,m(r("input",{type:"date",name:"uBirth",id:"uBirth",class:"form-control",onClick:s[5]||(s[5]=a=>e.availableTime()),"onUpdate:modelValue":s[6]||(s[6]=a=>e.registerObj.birth=a)},null,512),[[p,e.registerObj.birth]]),e.errorObj.birthErr.length>0?(i(),l("p",te,d(e.errorObj.birthErr[0]),1)):u("",!0)]),r("div",se,[ae,r("div",oe,[m(r("input",{type:"radio",name:"gender",value:"male",id:"genderMale","onUpdate:modelValue":s[7]||(s[7]=a=>e.registerObj.gender=a)},null,512),[[j,e.registerObj.gender]]),ne,m(r("input",{type:"radio",name:"gender",value:"female",id:"genderFemale","onUpdate:modelValue":s[8]||(s[8]=a=>e.registerObj.gender=a)},null,512),[[j,e.registerObj.gender]]),ie]),e.errorObj.genderErr.length>0?(i(),l("p",le,d(e.errorObj.genderErr[0]),1)):u("",!0)]),r("div",me,[de,r("p",null,[w(" have an account? "),C(f,{onClick:s[9]||(s[9]=a=>e.scrollToTop()),to:"/login"},{default:V(()=>[w("login")]),_:1})])])],32)])])}const ge=k(U,[["render",ue],["__scopeId","data-v-bbcf482e"]]);export{ge as default};
