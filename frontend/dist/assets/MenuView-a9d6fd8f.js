import{_ as x,u as et,g as m,h as w,r as P,o as r,c as a,F as C,i as B,a as t,e as d,t as y,j as q,k as h,b as nt,w as I,p as T,f as N,l as ot,m as st,v as lt,n as it,d as rt}from"./index-feffca74.js";import{u as j}from"./useData-a1bdd8e8.js";import{_ as at}from"./notfound-04acbfba.js";const ut={props:["food"],setup(l){const{getAllFoods:n,foods:S}=j();n();const _=et().user,b=l.food,p=m(1),e=w(()=>S.value.filter(u=>parseInt(u.product_id)==parseInt(b))),c=u=>{u.target.value<1&&(u.target.value=1),p.value=u.target.value};async function f(){try{let u=await axios.get("/cartItem/"+parseInt(_.user_id)+"/"+parseInt(b));if(u.data.length===1){let k={user_id:parseInt(_.user_id),product_id:parseInt(b),item_qty:parseInt(p.value)+parseInt(u.data[0].item_qty)};await axios.put("/cartItem/",k),Swal.fire({position:"top-end",icon:"success",title:"Add To Cart Successfully",showConfirmButton:!1,timer:1500})}else{let k={user_id:parseInt(_.user_id),product_id:parseInt(b),item_qty:parseInt(p.value)};await axios.post("/cartItem/",k),Swal.fire({position:"top-end",icon:"success",title:"Add To Cart Successfully",showConfirmButton:!1,timer:1500})}}catch(u){console.log(u)}}return{foods:S,food:b,user:_,selectedFood:e,onQtyChange:c,qty:p,addToCart:f}}},ct=l=>(T("data-v-0694083b"),l=l(),N(),l),dt={key:0,class:"quick-view"},ft={class:"d-flex justify-content-between"},pt={class:"product-detail d-flex"},vt={class:"image"},yt=["src"],_t={class:"content"},bt={class:"desc"},mt={class:"money"},gt={key:0},kt={class:"qty"},ht=ct(()=>t("label",{for:"qty"},"Quantity:",-1)),St={key:1,class:"quick-view"},wt={class:"quick-view-inner"},Ct={class:"d-flex justify-content-between"},Bt={class:"link-to-login",style:{"text-align":"center","margin-top":"120px"}};function Ft(l,n,S,s,_,b){const p=P("router-link");return r(),a("div",null,[s.user?(r(),a("div",dt,[(r(!0),a(C,null,B(s.selectedFood,e=>(r(),a("div",{class:"quick-view-inner",key:e.product_id},[t("h2",ft,[d(y(e.product_name)+" ",1),q(l.$slots,"default",{},void 0,!0)]),t("div",pt,[t("div",vt,[t("img",{src:`/images/${e.product_src}`,alt:""},null,8,yt)]),t("div",_t,[t("p",bt,y(e.product_desc),1),t("p",mt,[d(" $"+y(parseFloat(e.product_price)-parseFloat(e.product_discount)),1),parseFloat(e.product_discount)>0?(r(),a("span",gt,"$"+y(parseFloat(e.product_price)),1)):h("",!0)]),t("div",kt,[ht,t("input",{type:"number",name:"qty",id:"qty",value:"1",min:"1",max:"1000",onChange:n[0]||(n[0]=c=>s.onQtyChange(c))},null,32)]),t("button",{class:"btn",onClick:n[1]||(n[1]=(...c)=>s.addToCart&&s.addToCart(...c))},"Add to cart")])])]))),128))])):(r(),a("div",St,[t("div",wt,[t("h2",Ct,[d(" Please login to use this method "),q(l.$slots,"default",{},void 0,!0)]),t("div",Bt,[nt(p,{class:"btn",to:"/login",style:{padding:"10px","font-size":"20px"}},{default:I(()=>[d("login now ")]),_:1})])])]))])}const qt=x(ut,[["render",Ft],["__scopeId","data-v-0694083b"]]);const xt={components:{QuickView:qt},setup(){const l=ot({name:"",category:"",status:[],price:"",type:""}),{foods:n,getAllFoods:S}=j();S();const s=m(!1),_=m(!1),b=m(null),p=m(6),e=m(0),c=m(""),f=m(""),u=m(""),k=w(()=>n.value.filter(o=>o.product_name.toLowerCase().match(l.name.toLowerCase())&&(o.product_category.match(l.category)||l.category=="all"||l.category=="")&&O(o,l.price)&&o.product_type.toLowerCase().match(l.type.toLowerCase())&&V(o,l.status))),F=w(()=>k.value.slice(e.value*p.value,e.value*p.value+p.value)),D=w(()=>{if(k.value.length%p.value!==0)return Math.floor(k.value.length/p.value)});function V(o,i){if(e.value=0,i.length!==0){if(X(o,i)&&$(o,i)&&L(o,i)&&M(o,i)&&Q(o,i))return o}else return o}function O(o,i){e.value=0;let v=parseFloat(o.product_price)-parseFloat(o.product_discount);if(i=="2,5"){if(2<=v&&v<=5)return o}else if(i=="5,10"){if(5<=v&&v<=10)return o}else if(i=="10,12"){if(10<=v&&v<=12)return o}else if(i=="2"){if(v<=2)return o}else if(i=="12"){if(v>=12)return o}else if(i=="")return o}function X(o,i){return i.includes("Sale Off")?parseFloat(o.product_discount)>0:!0}function $(o,i){return i.includes("Best Seller")?!!o.product_status.includes("best seller"):!0}function Q(o,i){return i.includes("Online Only")?!!o.product_status.includes("online only"):!0}function M(o,i){return i.includes("Seasonal Dishes")?!!o.product_status.includes("seasonal dishes"):!0}function L(o,i){return i.includes("New Dishes")?!!o.product_status.includes("new dishes"):!0}let E=o=>{e.value=o},A=()=>{e.value++},z=()=>{e.value--};function U(o){e.value=0,l.category!==o.target.value&&c.value!==""&&(c.value.target.style.background="#27ae60"),l.category=o.target.value,c.value=o,o.target.style.background="#057835fa"}function G(o){e.value=0,l.status.includes(o.target.value)===!1&&(l.status.push(o.target.value),document.querySelector(`[for=${o.target.id}]`).style.background="#057835fa",document.querySelector(`[for=${o.target.id}]`).style.color="white",document.querySelector(`[for=${o.target.id}]`).querySelector(":scope > button").style.display="block")}function H(o){e.value=0,l.price="",l.price+=o.target.value,document.querySelector(`[for=${o.target.id}]`).style.background="#057835fa",document.querySelector(`[for=${o.target.id}]`).style.color="white",document.querySelector(`[for=${o.target.id}]`).querySelector(":scope > button").style.display="block",f.value!==""&&(document.querySelector(`[for=${f.value.target.id}]`).style.background="inherit",document.querySelector(`[for=${f.value.target.id}]`).style.color="inherit",document.querySelector(`[for=${f.value.target.id}]`).querySelector(":scope > button").style.display="none"),f.value=o}function J(o){e.value=0,l.type="",l.type+=o.target.value,document.querySelector(`[for=${o.target.id}]`).style.background="#057835fa",document.querySelector(`[for=${o.target.id}]`).style.color="white",document.querySelector(`[for=${o.target.id}]`).querySelector(":scope > button").style.display="block",u.value!=""&&(document.querySelector(`[for=${u.value.target.id}]`).style.background="inherit",document.querySelector(`[for=${u.value.target.id}]`).style.color="inherit",document.querySelector(`[for=${u.value.target.id}]`).querySelector(":scope > button").style.display="none"),u.value=o}function K(o){e.value=0,l.status=l.status.filter(i=>i!==o.target.value),o.target.parentNode.style.background="inherit",o.target.parentNode.style.color="inherit",o.target.parentNode.querySelector(":scope > button").style.display="none"}function W(o){e.value=0,l.price="",document.querySelector(`[for=${f.value.target.id}]`).style.background="inherit",document.querySelector(`[for=${f.value.target.id}]`).style.color="inherit",document.querySelector(`[for=${f.value.target.id}]`).querySelector(":scope > button").style.display="none",f.value=""}function Y(o){e.value=0,l.type="",document.querySelector(`[for=${u.value.target.id}]`).style.background="inherit",document.querySelector(`[for=${u.value.target.id}]`).style.color="inherit",document.querySelector(`[for=${u.value.target.id}]`).querySelector(":scope > button").style.display="none",u.value=""}function Z(o){b.value=parseInt(F.value[o].product_id),s.value=!s.value}function R(){s.value=!s.value}function tt(){let o=document.getElementsByClassName("filter-heading"),i=document.getElementsByClassName("filter-section");for(var v=0;v<o.length;v++)_.value?(o[v].style.display="none",i[v].style.display="none"):(o[v].style.display="block",i[v].style.display="block");_.value=!_.value}return{showQuickView:s,showDropDown:_,sendId:b,perPage:p,pageNum:e,previousCategoryClicked:c,previousPriceClicked:f,previousTypeClicked:u,foods:n,foodObj:l,currentPageItems:F,calculatePages:D,set:E,next:A,previous:z,closeView:R,filterFoods:k,filterFoodBtn:U,filterStatusBtn:G,filterPriceBtn:H,filterTypeBtn:J,unselectStatusBtn:K,unselectPriceBtn:W,unselectTypeBtn:Y,displayFilterDrop:tt,addItem:Z}}},g=l=>(T("data-v-bcd09bc3"),l=l(),N(),l),Pt={class:"menu-section"},It=g(()=>t("div",{class:"heading"},[t("span",null,"menu"),t("h3",null,"our special dishes")],-1)),Tt={class:"row"},Nt={class:"col-sm-4 col-12 filter-box"},jt={class:"row search-box"},Dt={class:"row filter-drop-down"},Vt={key:0},Ot={key:1},Xt=g(()=>t("div",{class:"row filter-heading"},[t("h1",null,"Status")],-1)),$t={class:"row filter-section"},Qt={class:"filter-option"},Mt={for:"bsStatus",class:"d-flex justify-content-between"},Lt={for:"ooStatus",class:"d-flex justify-content-between"},Et={for:"soStatus",class:"d-flex justify-content-between"},At={for:"sdStatus",class:"d-flex justify-content-between"},zt={for:"ndStatus",class:"d-flex justify-content-between"},Ut=g(()=>t("hr",null,null,-1)),Gt=g(()=>t("div",{class:"row filter-heading"},[t("h1",null,"Price")],-1)),Ht={class:"row filter-section"},Jt={class:"filter-option"},Kt={for:"rtfPrice",class:"d-flex justify-content-between"},Wt={for:"rftPrice",class:"d-flex justify-content-between"},Yt={for:"rttPrice",class:"d-flex justify-content-between"},Zt={for:"mtPrice",class:"d-flex justify-content-between"},Rt={for:"ltPrice",class:"d-flex justify-content-between"},te=g(()=>t("hr",null,null,-1)),ee=g(()=>t("div",{class:"row filter-heading"},[t("h1",null,"Type")],-1)),ne={class:"row filter-section"},oe={class:"filter-option"},se={for:"mType",class:"d-flex justify-content-between"},le={for:"vType",class:"d-flex justify-content-between"},ie={class:"col-sm-8"},re={class:"row"},ae={class:"menu-tabs"},ue={class:"row box-container"},ce={class:"box"},de=g(()=>t("a",{href:"",class:"fas fa-heart"},null,-1)),fe={class:"image"},pe=["src"],ve={class:"content"},ye={class:"stars"},_e=g(()=>t("i",{class:"fas fa-star"},null,-1)),be=[_e],me={key:0,class:"d-inline"},ge=g(()=>t("i",{class:"fas fa-star-half-alt"},null,-1)),ke=[ge],he={class:"desc"},Se={class:"price"},we={key:0},Ce=["onClick"],Be={key:0},Fe=rt('<div class="box" data-v-bcd09bc3><div class="content" data-v-bcd09bc3><h1 style="color:#057835fa;" data-v-bcd09bc3>No match found!</h1></div><div class="image" data-v-bcd09bc3><img src="'+at+'" alt="" data-v-bcd09bc3></div></div>',1),qe=[Fe],xe={key:0,class:"action-row"},Pe=["onClick"],Ie=["onClick"];function Te(l,n,S,s,_,b){const p=P("QuickView");return r(),a("div",Pt,[It,t("div",Tt,[t("div",Nt,[t("div",jt,[st(t("input",{type:"text",class:"search-input","onUpdate:modelValue":n[0]||(n[0]=e=>s.foodObj.name=e),placeholder:"Search.."},null,512),[[lt,s.foodObj.name]])]),t("div",Dt,[t("p",{onClick:n[1]||(n[1]=(...e)=>s.displayFilterDrop&&s.displayFilterDrop(...e))},[d(" Filter"),s.showDropDown?(r(),a("span",Vt,"x")):(r(),a("span",Ot,"v"))])]),Xt,t("div",$t,[t("ul",Qt,[t("li",null,[t("input",{type:"button",name:"cbStatus",id:"bsStatus",value:"Best Seller",hidden:"",onClick:n[2]||(n[2]=e=>s.filterStatusBtn(e))}),t("label",Mt,[d("Best Seller "),t("button",{class:"unselect-btn",onClick:n[3]||(n[3]=e=>s.unselectStatusBtn(e)),value:"Best Seller"}," X ")])]),t("li",null,[t("input",{type:"button",name:"cbStatus",id:"ooStatus",value:"Online Only",hidden:"",onClick:n[4]||(n[4]=e=>s.filterStatusBtn(e))}),t("label",Lt,[d("Online Only "),t("button",{class:"unselect-btn",onClick:n[5]||(n[5]=e=>s.unselectStatusBtn(e)),value:"Online Only"}," X ")])]),t("li",null,[t("input",{type:"button",name:"cbStatus",id:"soStatus",value:"Sale Off",hidden:"",onClick:n[6]||(n[6]=e=>s.filterStatusBtn(e))}),t("label",Et,[d("Sale Off "),t("button",{class:"unselect-btn",onClick:n[7]||(n[7]=e=>s.unselectStatusBtn(e)),value:"Sale Off"}," X ")])]),t("li",null,[t("input",{type:"button",name:"cbStatus",id:"sdStatus",value:"Seasonal Dishes",hidden:"",onClick:n[8]||(n[8]=e=>s.filterStatusBtn(e))}),t("label",At,[d("Seasonal Dishes "),t("button",{class:"unselect-btn",onClick:n[9]||(n[9]=e=>s.unselectStatusBtn(e)),value:"Seasonal Dishes"}," X ")])]),t("li",null,[t("input",{type:"button",name:"cbStatus",id:"ndStatus",value:"New Dishes",hidden:"",onClick:n[10]||(n[10]=e=>s.filterStatusBtn(e))}),t("label",zt,[d("New Dishes "),t("button",{class:"unselect-btn",onClick:n[11]||(n[11]=e=>s.unselectStatusBtn(e)),value:"New Dishes"}," X ")])])]),Ut]),Gt,t("div",Ht,[t("ul",Jt,[t("li",null,[t("input",{type:"button",name:"rPrice",id:"rtfPrice",value:"2,5",hidden:"",onClick:n[12]||(n[12]=e=>s.filterPriceBtn(e))}),t("label",Kt,[d("$2 - $5 "),t("button",{class:"unselect-btn",onClick:n[13]||(n[13]=e=>s.unselectPriceBtn(e))}," X ")])]),t("li",null,[t("input",{type:"button",name:"rPrice",id:"rftPrice",value:"5,10",hidden:"",onClick:n[14]||(n[14]=e=>s.filterPriceBtn(e))}),t("label",Wt,[d("$5 - $10 "),t("button",{class:"unselect-btn",onClick:n[15]||(n[15]=e=>s.unselectPriceBtn(e))}," X ")])]),t("li",null,[t("input",{type:"button",name:"rPrice",id:"rttPrice",value:"10,12",hidden:"",onClick:n[16]||(n[16]=e=>s.filterPriceBtn(e))}),t("label",Yt,[d("$10 - $12 "),t("button",{class:"unselect-btn",onClick:n[17]||(n[17]=e=>s.unselectPriceBtn(e))}," X ")])]),t("li",null,[t("input",{type:"button",name:"rPrice",id:"mtPrice",value:"12",hidden:"",onClick:n[18]||(n[18]=e=>s.filterPriceBtn(e))}),t("label",Zt,[d(y("<")+" $12 "),t("button",{class:"unselect-btn",onClick:n[19]||(n[19]=e=>s.unselectPriceBtn(e))}," X ")])]),t("li",null,[t("input",{type:"button",name:"rPrice",id:"ltPrice",value:"2",hidden:"",onClick:n[20]||(n[20]=e=>s.filterPriceBtn(e))}),t("label",Rt,[d(y("<")+" $2 "),t("button",{class:"unselect-btn",onClick:n[21]||(n[21]=e=>s.unselectPriceBtn(e))}," X ")])])]),te]),ee,t("div",ne,[t("ul",oe,[t("li",null,[t("input",{type:"button",name:"rType",id:"mType",value:"meat",hidden:"",onClick:n[22]||(n[22]=e=>s.filterTypeBtn(e))}),t("label",se,[d("meat"),t("button",{class:"unselect-btn",onClick:n[23]||(n[23]=e=>s.unselectTypeBtn(e))}," X ")])]),t("li",null,[t("input",{type:"button",name:"rType",id:"vType",value:"vegan",hidden:"",onClick:n[24]||(n[24]=e=>s.filterTypeBtn(e))}),t("label",le,[d("vegan"),t("button",{class:"unselect-btn",onClick:n[25]||(n[25]=e=>s.unselectTypeBtn(e))}," X ")])])])])]),t("div",ie,[t("div",re,[t("div",ae,[t("input",{type:"button",id:"allFilterFoodBtn",name:"allFilterFoodBtn",value:"all",class:"menu-tab-item",onClick:n[26]||(n[26]=e=>s.filterFoodBtn(e))}),t("input",{type:"button",id:"tacoFilterFoodBtn",name:"tacoFilterFoodBtn",class:"menu-tab-item",value:"taco",onClick:n[27]||(n[27]=e=>s.filterFoodBtn(e))}),t("input",{type:"button",id:"burritoFilterFoodBtn",name:"burritoFilterFoodBtn",class:"menu-tab-item",value:"burrito",onClick:n[28]||(n[28]=e=>s.filterFoodBtn(e))}),t("input",{type:"button",id:"nachosFilterFoodBtn",name:"nachosFilterFoodBtn",class:"menu-tab-item",value:"nachos",onClick:n[29]||(n[29]=e=>s.filterFoodBtn(e))}),t("input",{type:"button",id:"sidesFilterFoodBtn",name:"sidesFilterFoodBtn",class:"menu-tab-item",value:"sides",onClick:n[30]||(n[30]=e=>s.filterFoodBtn(e))}),t("input",{type:"button",id:"dessertFilterFoodBtn",name:"dessertFilterFoodBtn",class:"menu-tab-item",value:"dessert",onClick:n[31]||(n[31]=e=>s.filterFoodBtn(e))}),t("input",{type:"button",id:"drinkFilterFoodBtn",name:"drinkFilterFoodBtn",class:"menu-tab-item",value:"drink",onClick:n[32]||(n[32]=e=>s.filterFoodBtn(e))})])]),t("div",ue,[(r(!0),a(C,null,B(s.currentPageItems,(e,c)=>(r(),a("div",{key:c},[t("div",ce,[de,t("div",fe,[t("img",{src:`/images/${e.product_src}`,alt:""},null,8,pe)]),t("div",ve,[t("h3",null,y(e.product_name),1),t("div",ye,[(r(!0),a(C,null,B(Math.floor(parseFloat(e.product_star)),f=>(r(),a("div",{key:f,class:"d-inline"},be))),128)),parseFloat(e.product_star)-Math.floor(parseFloat(e.product_star))==.5?(r(),a("div",me,ke)):h("",!0),t("span",null," ("+y(e.product_vote)+") ",1)]),t("div",he,[t("p",null,y(e.product_desc),1)]),t("div",Se,[d(" $"+y(parseFloat(e.product_price)-parseFloat(e.product_discount))+" ",1),parseFloat(e.product_discount)!=0?(r(),a("span",we,"$"+y(parseFloat(e.product_price)),1)):h("",!0)]),t("button",{class:"btn",onClick:f=>s.addItem(c)},"Add to cart",8,Ce)])])]))),128)),s.filterFoods.length?h("",!0):(r(),a("div",Be,qe))]),s.calculatePages>1?(r(),a("div",xe,[s.pageNum!=0?(r(),a("button",{key:0,onClick:n[33]||(n[33]=e=>s.previous()),class:"action-btn"},y("<"))):h("",!0),(r(!0),a(C,null,B(s.calculatePages,(e,c)=>(r(),a("div",{key:c,class:"d-inline"},[c==s.pageNum?(r(),a("span",{key:0,class:"highlight",onClick:f=>s.set(c)},y(c+1),9,Pe)):(r(),a("span",{key:1,onClick:f=>s.set(c)},y(c+1),9,Ie))]))),128)),s.pageNum!=s.calculatePages-1?(r(),a("button",{key:1,onClick:n[34]||(n[34]=e=>s.next()),class:"action-btn"},y(">"))):h("",!0)])):h("",!0)])]),s.showQuickView?(r(),it(p,{key:0,food:s.sendId},{default:I(()=>[t("button",{class:"btn",onClick:n[35]||(n[35]=(...e)=>s.closeView&&s.closeView(...e))},"X")]),_:1},8,["food"])):h("",!0)])}const Ve=x(xt,[["render",Te],["__scopeId","data-v-bcd09bc3"]]);export{Ve as default};
